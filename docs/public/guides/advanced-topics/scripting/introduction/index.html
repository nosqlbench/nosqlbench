<!doctype html><html lang=en><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=https://docs.nosqlbench.io/js/theme.min.js></script><link href="https://docs.nosqlbench.io/abridge.css?h=17d1d14ae374495df55a" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://docs.nosqlbench.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><link href=https://docs.nosqlbench.io/favicon.svg rel=icon type=image/svg+xml><link title="NoSQLBench Documentation Atom Feed" href=https://docs.nosqlbench.io/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Scripting Introduction | NoSQLBench Documentation</title><meta content="NoSQLBench Team" name=author><meta content="NoSQLBench Documentation" name=copyright><meta content="Understanding NoSQLBench's scripting capabilities" name=description><link href=https://docs.nosqlbench.io/guides/advanced-topics/scripting/introduction/ rel=canonical><meta content=https://docs.nosqlbench.io/guides/advanced-topics/scripting/introduction/ property=og:url><meta content=https://docs.nosqlbench.io/guides/advanced-topics/scripting/introduction/ name=twitter:url><meta content="Understanding NoSQLBench's scripting capabilities" property=og:description><meta content="Understanding NoSQLBench's scripting capabilities" name=twitter:description><meta content="Scripting Introduction | NoSQLBench Documentation" property=og:title><meta content="Scripting Introduction | NoSQLBench Documentation" name=twitter:title><meta content=summary name=twitter:card><meta content="NoSQLBench Documentation" property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta property=og:updated_time><script src="https://docs.nosqlbench.io/js/theme_button.js?h=12a31e87fcbe7a55e953" defer integrity=sha384-UBxLGgFVZtEgNzOU3WqKoFT1oILftGjShFO4WIs1dO/jK7SNyz7BMYCYt5PffTxe></script><script src="https://docs.nosqlbench.io/js/email.js?h=ee3dd742e11c5014fdef" defer integrity=sha384-y0LUfjslyVLYZvCOyhELpvKivlXAq27Vnbed54glXoe/pZSYS/Pfqghp/sQt1xcV></script><script src="https://docs.nosqlbench.io/js/codecopy.js?h=0a54f99e682443925d3a" defer integrity=sha384-qssVvPpQgISh4PFkSBGTgXEMzuFO8Hat5m1MsdkpannoByWSTpLfBe4iEVl3+RiP></script><script src="https://docs.nosqlbench.io/js/elasticlunr.min.js?h=4f648b9e42abdef9c436" defer integrity=sha384-Q8viz7rndi8MSNDtItDgVWNSrCumjepopRMlz2nElkWPRXDQAcfiZGJbrCJVXdtw></script><script src="https://docs.nosqlbench.io/search_index.en.js?h=e2df0fd710d0c807a7aa" defer integrity=sha384-nyOftseEtxo2Pc23RFR1hxsCZHtUr0xOCP7JVJ8oGIs+cnDq6GZkzCq2hWZ2cJIh></script><script src="https://docs.nosqlbench.io/js/searchjava.js?h=36b818b07e8b2b318967" defer integrity=sha384-i6K7Uy98ZLnOwn6no8sDUTeBitDmiLHOKxkcJYbjgu6vQ3hdyMQPzmeuX04BRs8J></script><noscript><link href=https://docs.nosqlbench.io/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a title="NoSQLBench Documentation" href=https://docs.nosqlbench.io></a></big></div><div><div><ul><li><a href=https://docs.nosqlbench.io/tutorials/> Tutorials </a><li><a href=https://docs.nosqlbench.io/guides/> Guides </a><li><a href=https://docs.nosqlbench.io/reference/> Reference </a><li><a href=https://docs.nosqlbench.io/explanations/> Explanations </a><li><a href=https://docs.nosqlbench.io/development/> Development </a><li><a href=https://github.com/nosqlbench/nosqlbench target=_blank> GitHub </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class="svgs svgm search" title=Search></button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav></header><main><article><h1><a href=https://docs.nosqlbench.io/guides/advanced-topics/scripting/introduction/>Scripting Introduction</a></h1><h2 id=intro>Intro</h2><p>The NoSQLBench runtime is a combination of a scripting runtime and a workload execution machine. This is not accidental. With this particular arrangement, it has been possible to build sophisticated tests across a variety of scenarios. In particular, logic which can observe and react to the system under test can be powerful. With this approach, it becomes possible to break away from the conventional run-interpret-adjust cycle which is all too often done by human hands.<p>The approach that enables this is based on a few key principles:<ol><li>NoSQLBench is packaged by default for users who want to use pre-built testing configurations.<li>The whole runtime is modular and designed for composition.<li>The default testing configurations are assembled from the modules components as needed.<li>Users can choose to build their own testing configurations from these modules.<li>When a user moves from using pre-built configurations to custom configurations, is an incremental process.</ol><h2 id=design-motive>Design Motive</h2><p>Why base the internal logic on a scripting engine?<p>The principles described above apply all the way to the scripting layer. Every NoSQLBench scenario is after-all, a script. For users who just need to run the pre-package configurations, it doesn’t matter that a scripting engine is at the core. For others who need to create advanced testing logic, it is a crucial enabler. This feature allows them to build on the self-same concepts and components that other NoSQLBench users are already familiar with and using. This provides common ground that pays for itself in terms of usability, clarity, and a shared approach to testing at different levels of detail.<h2 id=machinery-controls-instruments>Machinery, Controls & Instruments</h2><p>All the heavy lifting is left to Java and the core NoSQLBench runtime. This includes the iterative workloads that are meant to test the target system. This is combined with a control layer which is provided by GraalVM. This division of responsibility allows the high-level test logic to be “script” and the low-level activity logic to be “machinery”. While the scenario script has the most control, it also is the least busy relative to activity workloads. The net effect is that you have the efficiency of the iterative test loads in conjunction with the open design palette of a first-class scripting language. You aren’t having to buy test flexibility at the expense of testing speed or efficiency. You get the best of both worlds, working together.<p>Essentially, the drivers are meant to handle the workload-specific machinery. They also provide dynamic control points and parameters which special to each driver. This exposes a full feedback loop between a running scenario script and the activities that run under its control. The scenario is free to read the performance metrics from a live activity and make changes to it on the fly.<h2 id=getting-started>Getting Started</h2><p>For users who want to tap into the programmatic power of NoSQLBench, it’s easy to get started by using the <code>--show-script</code> option. For any normal command line that you might use with NoSQLBench, this option causes it to dump the scenario script to stdout and exit instead of running the scenario.<p>You can store this into a file with a <code>.js</code> extension, and then use a command line like<pre style=color:#c0c5ce;background-color:#2b303b><code><span>nb5 script myfile.js
</span></code></pre><p>to invoke it. This is exactly the same as running the original command line, only with a couple of extra steps that let you see what it is doing directly in the scenario script.</article></main><footer><div class=c><nav class=tpad><div></div></nav><p>© <span id=year>2025</span> NoSQLBench Documentation<p>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer><span class=topout> <span class=topleft> </span><a title="Back to Top" class=top href=#><i class="svgs svgh angu"></i></a> </span>