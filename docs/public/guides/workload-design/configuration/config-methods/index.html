<!doctype html><html lang=en><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=https://docs.nosqlbench.io/js/theme.min.js></script><link href="https://docs.nosqlbench.io/abridge.css?h=17d1d14ae374495df55a" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://docs.nosqlbench.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><link href=https://docs.nosqlbench.io/favicon.svg rel=icon type=image/svg+xml><link title="NoSQLBench Documentation Atom Feed" href=https://docs.nosqlbench.io/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Configuration Methods | NoSQLBench Documentation</title><meta content="NoSQLBench Team" name=author><meta content="NoSQLBench Documentation" name=copyright><meta content="Understanding all the ways to configure NoSQLBench scenarios" name=description><link href=https://docs.nosqlbench.io/guides/workload-design/configuration/config-methods/ rel=canonical><meta content=https://docs.nosqlbench.io/guides/workload-design/configuration/config-methods/ property=og:url><meta content=https://docs.nosqlbench.io/guides/workload-design/configuration/config-methods/ name=twitter:url><meta content="Understanding all the ways to configure NoSQLBench scenarios" property=og:description><meta content="Understanding all the ways to configure NoSQLBench scenarios" name=twitter:description><meta content="Configuration Methods | NoSQLBench Documentation" property=og:title><meta content="Configuration Methods | NoSQLBench Documentation" name=twitter:title><meta content=summary name=twitter:card><meta content="NoSQLBench Documentation" property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta property=og:updated_time><script src="https://docs.nosqlbench.io/js/theme_button.js?h=12a31e87fcbe7a55e953" defer integrity=sha384-UBxLGgFVZtEgNzOU3WqKoFT1oILftGjShFO4WIs1dO/jK7SNyz7BMYCYt5PffTxe></script><script src="https://docs.nosqlbench.io/js/email.js?h=ee3dd742e11c5014fdef" defer integrity=sha384-y0LUfjslyVLYZvCOyhELpvKivlXAq27Vnbed54glXoe/pZSYS/Pfqghp/sQt1xcV></script><script src="https://docs.nosqlbench.io/js/codecopy.js?h=0a54f99e682443925d3a" defer integrity=sha384-qssVvPpQgISh4PFkSBGTgXEMzuFO8Hat5m1MsdkpannoByWSTpLfBe4iEVl3+RiP></script><script src="https://docs.nosqlbench.io/js/elasticlunr.min.js?h=4f648b9e42abdef9c436" defer integrity=sha384-Q8viz7rndi8MSNDtItDgVWNSrCumjepopRMlz2nElkWPRXDQAcfiZGJbrCJVXdtw></script><script src="https://docs.nosqlbench.io/search_index.en.js?h=e2df0fd710d0c807a7aa" defer integrity=sha384-nyOftseEtxo2Pc23RFR1hxsCZHtUr0xOCP7JVJ8oGIs+cnDq6GZkzCq2hWZ2cJIh></script><script src="https://docs.nosqlbench.io/js/searchjava.js?h=36b818b07e8b2b318967" defer integrity=sha384-i6K7Uy98ZLnOwn6no8sDUTeBitDmiLHOKxkcJYbjgu6vQ3hdyMQPzmeuX04BRs8J></script><noscript><link href=https://docs.nosqlbench.io/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a title="NoSQLBench Documentation" href=https://docs.nosqlbench.io></a></big></div><div><div><ul><li><a href=https://docs.nosqlbench.io/tutorials/> Tutorials </a><li><a href=https://docs.nosqlbench.io/guides/> Guides </a><li><a href=https://docs.nosqlbench.io/reference/> Reference </a><li><a href=https://docs.nosqlbench.io/explanations/> Explanations </a><li><a href=https://docs.nosqlbench.io/development/> Development </a><li><a href=https://github.com/nosqlbench/nosqlbench target=_blank> GitHub </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class="svgs svgm search" title=Search></button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav></header><main><article><h1><a href=https://docs.nosqlbench.io/guides/workload-design/configuration/config-methods/>Configuration Methods</a></h1><p>To configure a NoSQLBench Scenario to do something useful, you have to provide parameters to it. This can occur in one of several ways. This section is a guide on all the ways you can configure an nb5 scenario.<p>ðŸ‘‰ Most users will not need to understand all the ways you can parameterize nb5. If you are doing lots of customization or scenario design, then the details of this section may be useful. Otherwise, the examples are a better starting point, particularly the built-in scenarios.<h1 id=global-options>Global Options</h1><p>The command line is used to configure both the overall runtime (logging, etc.) and individual scenarios or activities. Global options can be distinguished from scenario commands and their parameters because global options always start with a <code>-single</code> or <code>--double-hyphen</code>.<p>You can co-mingle global options with scenario or activity params. They will be parsed out without disturbing the sequence of those other options.<h1 id=script-params>Script Params</h1><h2 id=params-object>params object</h2><p>When you run a scenario script directly, like <code>nb5 script mysript.js</code> , you can provide params to it, just as you can with an activity. These params are provided to the scripting environment in a service object called <code>params</code>.<h2 id=template-variables>template variables</h2><p>Further, template variables are expanded in this script before evaluation just as with workload templates. So, you can use <code>TEMPLATE(varname,value)</code> or <code><&LTvarname:value>></code> to create textual parameters which will be recognized on the command line.<h1 id=scenario-commands>Scenario Commands</h1><p>Any command line argument which is not a global option (starting with a <code>-</code> or <code>--</code>), is a scenario command. These are all described in <a href=../../../reference/cli/scripting.md>CLI Scripting</a>.<p>Most of the time, when you are running scenario commands, they are being used to start, modify, or stop an activity. <strong>Scenario commands are all about managing activities.</strong> So, in practice, most scenario commands are activity commands.<h2 id=activity-params>Activity Params</h2><p>When you run an activity in a scenario with <code>run</code> or <code>start</code>, every named parameter after the command is an activity param. Core Activity Params allow you to initialize your workload. There are a few ways that these parameters work together.<ul><li>A default driver may be specified. This is the most common way to use nb5.<li>A workload or op may be specified. Either will provide a (possibly empty) list of op templates.<li>Each op template which is found will be interpreted with the selected driver, even if this is a locally assigned driver in the op template itself.<li>Each active driver, according to the active op templates, will enable new activity params above and beyond the core activity params. For example, by assigning the driver <code>stdout</code> to an activity or an op template directly, the param <code>filename</code> becomes available. This activity param will apply <em>only</em> to those activity instances for which it is valid. The other drivers will not see the parameter. In this way, a single set of activity params can be used to configure multiple drivers.<li>In special cases, when there are no op templates, and this wasnâ€™t because of tag filtering, a driver may synthesize ops according to their documented behavior. The <code>stdout</code> driver does this. These drivers are given a view of the raw workload template from which to build fully-qualified op templates.</ul><p>ðŸ‘‰ <strong>Depending on the driver param, additional activity params may become available.</strong><p>ðŸ‘‰ <strong>The driver param is actually assigned per op template.</strong><h1 id=named-scenario-params>Named Scenario Params</h1><p>It is common to use the <a href=../../../tutorials/workload-basics/11-named-scenarios.md>Named Scenarios</a> feature to bundle up multiple activity workflows into a single command. When you do this, it is possible to apply params on the command line to the named scenario. In effect, this means you are applying a single set of parameters to possibly multiple activities, so there is a one-to-many relationship.<p>For this reason, the named scenarios have a form of parameter locking that allows you to drop your param overrides from the command line into exactly the places which are intended to be changeable. Double equals is a soft (quiet) lock, and triple equals is a hard (verbose) lock. Any parameter provided after a workflow will replace the same named parameters in the named scenario steps which are not locked.<h1 id=op-template-fields>Op Template Fields</h1><p>Activities, <em>all activities</em>, are based on a set of op templates. These are the <a href=https://yaml.org/ rel=noopener target=_blank>YAML</a>, <a href=https://www.json.org/ rel=noopener target=_blank>json</a>, <a href=https://jsonnet.org/ rel=noopener target=_blank>jsonnet</a>, or direct data structures which follow the <a href=../../../reference/workload-yaml/_index.md>workload definition</a> standard. These schematic values are provided to the selected driver to be mapped to native operations.<p>Generally, you define all the schematic values (templates, bindings, other config properties) for an op template directly within the workload template. However, there are cases where it makes sense to <em>also</em> allow those op fields to be initialized with the activity params.<p>This is easy to enable for driver developers. All that is required is that the op field has a compatible config model entry that matches the name and type. This also allows the driver adapter to describe the parameter, indicate whether the parameter is required or has defaults.<p>A good example of this is the <code>consistency_level</code> activity param for the cqld4 driver. If the user sets this value when the cqld4 driver is active, then all op templates will take their default from this.<p>ðŸ‘‰ <strong>Depending on the driver param, op templates will be interpreted a certain way.</strong><h2 id=standard-activity-params>Standard Activity Params</h2><p>Some parameters that can be specified for an activity are standardized in the NoSQLBench design. These include parameters like <code>driver</code>, <code>alias</code>, and <code>threads</code>. Find more info on standard params at the core activity parameters documentation.<h2 id=dynamic-activity-params>Dynamic Activity Params</h2><p>Some driver params are instrumented in the runtime to be dynamically changed during a scenarioâ€™s execution. This means that a scenario script can assign a value to an activity parameter after the activity is started. Further, these assignments are treated like events which force the activity to observe any changes and modify its behavior in real time.<p>This is accomplished with a two-layer <em>configuration</em> model. The initial configuration for an activity is gated by a type model that knows what parameters are required, what the default values are, and so on. This configuration model is an aggregate of all the active drivers in an activity.<p>A second configuration model, called the <em>reconfiguration</em> model, can expose a set of the original config params for modification. In this way, driver developers can allow for a variety of dynamic behaviors which allow for advanced analysis of workloads without restarts. These parameters are not meant for casual use. They are generally used in advanced scripting scenarios.<p>Parameters that are dynamic should be documented as such where they are described.<h2 id=template-variables-1>Template Variables</h2><p>If you need to provide general-purpose overrides to a in a workload template, then you may use a mechanism called <em>template variables</em>. These are just like activity parameters, but they are set via macro and can have defaults. This allows you to easily template workload properties in a way that is easy to override on the command line or via scripting.</article></main><footer><div class=c><nav class=tpad><div></div></nav><p>Â© <span id=year>2025</span> NoSQLBench Documentation<p>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer><span class=topout> <span class=topleft> </span><a title="Back to Top" class=top href=#><i class="svgs svgh angu"></i></a> </span>