<!doctype html><html lang=en><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=https://docs.nosqlbench.io/js/theme.min.js></script><link href="https://docs.nosqlbench.io/abridge.css?h=17d1d14ae374495df55a" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://docs.nosqlbench.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><link href=https://docs.nosqlbench.io/favicon.svg rel=icon type=image/svg+xml><link title="NoSQLBench Documentation Atom Feed" href=https://docs.nosqlbench.io/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Data Bindings | NoSQLBench Documentation</title><meta content="NoSQLBench Team" name=author><meta content="NoSQLBench Documentation" name=copyright><meta content="Learn how to use data bindings for generating test data" name=description><link href=https://docs.nosqlbench.io/tutorials/workload-basics/03-data-bindings/ rel=canonical><meta content=https://docs.nosqlbench.io/tutorials/workload-basics/03-data-bindings/ property=og:url><meta content=https://docs.nosqlbench.io/tutorials/workload-basics/03-data-bindings/ name=twitter:url><meta content="Learn how to use data bindings for generating test data" property=og:description><meta content="Learn how to use data bindings for generating test data" name=twitter:description><meta content="Data Bindings | NoSQLBench Documentation" property=og:title><meta content="Data Bindings | NoSQLBench Documentation" name=twitter:title><meta content=summary name=twitter:card><meta content="NoSQLBench Documentation" property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta property=og:updated_time><script src="https://docs.nosqlbench.io/js/theme_button.js?h=12a31e87fcbe7a55e953" defer integrity=sha384-UBxLGgFVZtEgNzOU3WqKoFT1oILftGjShFO4WIs1dO/jK7SNyz7BMYCYt5PffTxe></script><script src="https://docs.nosqlbench.io/js/email.js?h=ee3dd742e11c5014fdef" defer integrity=sha384-y0LUfjslyVLYZvCOyhELpvKivlXAq27Vnbed54glXoe/pZSYS/Pfqghp/sQt1xcV></script><script src="https://docs.nosqlbench.io/js/codecopy.js?h=0a54f99e682443925d3a" defer integrity=sha384-qssVvPpQgISh4PFkSBGTgXEMzuFO8Hat5m1MsdkpannoByWSTpLfBe4iEVl3+RiP></script><script src="https://docs.nosqlbench.io/js/elasticlunr.min.js?h=4f648b9e42abdef9c436" defer integrity=sha384-Q8viz7rndi8MSNDtItDgVWNSrCumjepopRMlz2nElkWPRXDQAcfiZGJbrCJVXdtw></script><script src="https://docs.nosqlbench.io/search_index.en.js?h=e2df0fd710d0c807a7aa" defer integrity=sha384-nyOftseEtxo2Pc23RFR1hxsCZHtUr0xOCP7JVJ8oGIs+cnDq6GZkzCq2hWZ2cJIh></script><script src="https://docs.nosqlbench.io/js/searchjava.js?h=36b818b07e8b2b318967" defer integrity=sha384-i6K7Uy98ZLnOwn6no8sDUTeBitDmiLHOKxkcJYbjgu6vQ3hdyMQPzmeuX04BRs8J></script><noscript><link href=https://docs.nosqlbench.io/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a title="NoSQLBench Documentation" href=https://docs.nosqlbench.io></a></big></div><div><div><ul><li><a href=https://docs.nosqlbench.io/tutorials/> Tutorials </a><li><a href=https://docs.nosqlbench.io/guides/> Guides </a><li><a href=https://docs.nosqlbench.io/reference/> Reference </a><li><a href=https://docs.nosqlbench.io/explanations/> Explanations </a><li><a href=https://docs.nosqlbench.io/development/> Development </a><li><a href=https://github.com/nosqlbench/nosqlbench target=_blank> GitHub </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class="svgs svgm search" title=Search></button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav></header><main><article><h1><a href=https://docs.nosqlbench.io/tutorials/workload-basics/03-data-bindings/>Data Bindings</a></h1><h2 id=virtual-data-set>Virtual Data Set</h2><p>Procedural data generation is built-in to the NoSQLBench runtime by way of the <em>Virtual Data Set</em> library. This allows us to create named data generation recipes. These named recipes for generated data are called bindings. Procedural generation for test data has many benefits over shipping bulk test data around, including speed and deterministic behavior. With the <em>Virtual Data Set</em> approach, most of the hard work is already done for us. We just have to pull in the recipes we want.<h2 id=bindings-syntax>Bindings Syntax</h2><p>You can add a bindings section like this:<pre class=language-yaml data-lang=yaml style=color:#c0c5ce;background-color:#2b303b><code class=language-yaml data-lang=yaml><span style=color:#bf616a>bindings</span><span>:
</span><span>  </span><span style=color:#bf616a>alpha</span><span>: </span><span style=color:#a3be8c>Identity()
</span><span>  </span><span style=color:#bf616a>beta</span><span>: </span><span style=color:#a3be8c>NumberNameToString()
</span><span>  </span><span style=color:#bf616a>gamma</span><span>: </span><span style=color:#a3be8c>Combinations('0-9A-F;0-9;A-Z;_;p;r;o;')
</span><span>  </span><span style=color:#bf616a>delta</span><span>: </span><span style=color:#a3be8c>WeightedStrings('one:1;six:6;three:3;')
</span></code></pre><p>This is a YAML map which provides names and function specifiers. The first binding is named_alpha_, and calls an <em>Identity</em> function that takes an input value and returns the same value. Together, the name and value constitute a binding named alpha. All four bindings together are called a bindings set.<p>The above bindings block is also a valid activity YAML, at least for the <em>stdout</em> activity type. The <em>stdout</em> activity can construct a statement template from the provided bindings if needed, so this is valid:<pre class=language-shell data-lang=shell style=color:#c0c5ce;background-color:#2b303b><code class=language-shell data-lang=shell><span>[test]$ cat > stdout-test.yaml
</span><span>    bindings:
</span><span>     alpha: Identity()
</span><span>     beta: NumberNameToString()
</span><span>     gamma: Combinations('0-9A-F;0-9;A-Z;_;p;r;o;')
</span><span>     delta: WeightedStrings('one:1;six:6;three:3;')
</span><span># EOF (control-D in your terminal)
</span><span>
</span><span>[test]$ ./nb5 run driver=stdout workload=stdout-test cycles=10
</span><span>0,zero,00A_pro,six
</span><span>1,one,00B_pro,six
</span><span>2,two,00C_pro,three
</span><span>3,three,00D_pro,three
</span><span>4,four,00E_pro,six
</span><span>5,five,00F_pro,six
</span><span>6,six,00G_pro,six
</span><span>7,seven,00H_pro,six
</span><span>8,eight,00I_pro,six
</span><span>9,nine,00J_pro,six
</span></code></pre><p>Above, you can see that the stdout activity type is ideal for experimenting with data generation recipes. It uses the default <code>format=csv</code> parameter above, but it also supports formats like json, inlinejson, readout, and assignments.<p>This is all you need to provide a formulaic recipe for converting an ordinal value to a set of field values. Each time NoSQLBench needs to create a set of values as parameters to a statement, the binding functions are called with an input, known as the cycle. The functions produce a set of named values that, when combined with a statement template, can yield an individual statement for a database operation. In this way, each cycle represents a specific operation. Since the functions above are pure functions, the cycle number of an operation will always produce the same operation, thus making all NoSQLBench workloads that use pure functions deterministic.<p>In the example above, you can see the cycle numbers down the left.<h2 id=binding-anchors>Binding Anchors</h2><p>If you combine the op template section and the bindings sections above into one activity yaml, you get a slightly different result, as the bindings apply to the operations that are provided, rather than creating a default op template for all provided bindings. See the example below:<pre class=language-yaml data-lang=yaml style=color:#c0c5ce;background-color:#2b303b><code class=language-yaml data-lang=yaml><span style=color:#65737e># stdout-test.yaml
</span><span style=color:#bf616a>statements</span><span>:
</span><span> - </span><span style=color:#b48ead>|
</span><span style=color:#a3be8c>  This is a statement, and the file format doesn't
</span><span style=color:#a3be8c>  know how statements will be used!
</span><span> - </span><span style=color:#b48ead>|
</span><span style=color:#a3be8c>  submit job {alpha} on queue {beta} with options {gamma};
</span><span style=color:#bf616a>bindings</span><span>:
</span><span> </span><span style=color:#bf616a>alpha</span><span>: </span><span style=color:#a3be8c>Identity()
</span><span> </span><span style=color:#bf616a>beta</span><span>: </span><span style=color:#a3be8c>NumberNameToString()
</span><span> </span><span style=color:#bf616a>gamma</span><span>: </span><span style=color:#a3be8c>Combinations('0-9A-F;0-9;A-Z;_;p;r;o;')
</span><span> </span><span style=color:#bf616a>delta</span><span>: </span><span style=color:#a3be8c>WeightedStrings('one:1;six:6;three:3;')
</span></code></pre><pre class=language-shell data-lang=shell style=color:#c0c5ce;background-color:#2b303b><code class=language-shell data-lang=shell><span>[test]$ ./nb5 run driver=stdout workload=stdout-test cycles=10
</span><span>This is a statement, and the file format doesn't
</span><span>know how statements will be used!
</span><span>submit job 1 on queue one with options 00B_pro;
</span><span>This is a statement, and the file format doesn't
</span><span>know how statements will be used!
</span><span>submit job 3 on queue three with options 00D_pro;
</span><span>This is a statement, and the file format doesn't
</span><span>know how statements will be used!
</span><span>submit job 5 on queue five with options 00F_pro;
</span><span>This is a statement, and the file format doesn't
</span><span>know how statements will be used!
</span><span>submit job 7 on queue seven with options 00H_pro;
</span><span>This is a statement, and the file format doesn't
</span><span>know how statements will be used!
</span><span>submit job 9 on queue nine with options 00J_pro;
</span></code></pre><p>There are a few things to notice here. First, the statements that are executed are automatically alternated between. If you had 10 different operations listed, they would all get their turn with 10 cycles. Since there were two, each was run 5 times.<p>Also, the op templates that had named anchors acted as a template, whereas the other one was evaluated just as it was. In fact, they were both treated as templates, but one of them had no anchors.<p>One more minor but important detail is that the fourth binding <em>delta</em> was not referenced directly in the statements. Since the op templates did not pair up an anchor with this binding name, it was not used. No values were generated for it.<p>Bindings are templates for data generation, only to be used when necessary. Bindings that are defined nearby an op template are like a menu of data generation options. If the op template references those bindings with <code>{named_anchors}</code>, then the recipes will be used to construct data when that op template is selected for a specific cycle. The cycle number both selects the operation (via the op sequence) and also provides the input value as the initial input to the binding functions.<h2 id=further-details>Further Details</h2><p>A deeper explanation of binding concepts can be found in the <a href=../../reference/bindings/_index.md>Binding Concepts</a> part of the Reference Section, where you will also find documentation about how to use the various binding functions that are available.</article></main><footer><div class=c><nav class=tpad><div></div></nav><p>Â© <span id=year>2025</span> NoSQLBench Documentation<p>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer><span class=topout> <span class=topleft> </span><a title="Back to Top" class=top href=#><i class="svgs svgh angu"></i></a> </span>