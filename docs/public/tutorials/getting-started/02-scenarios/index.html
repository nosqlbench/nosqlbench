<!doctype html><html lang=en><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=https://docs.nosqlbench.io/js/theme.min.js></script><link href="https://docs.nosqlbench.io/abridge.css?h=17d1d14ae374495df55a" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://docs.nosqlbench.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><link href=https://docs.nosqlbench.io/favicon.svg rel=icon type=image/svg+xml><link title="NoSQLBench Documentation Atom Feed" href=https://docs.nosqlbench.io/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Built-in Scenarios | NoSQLBench Documentation</title><meta content="NoSQLBench Team" name=author><meta content="NoSQLBench Documentation" name=copyright><meta content="Explore and run NoSQLBench's pre-built workload scenarios" name=description><link href=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/ rel=canonical><meta content=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/ property=og:url><meta content=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/ name=twitter:url><meta content="Explore and run NoSQLBench's pre-built workload scenarios" property=og:description><meta content="Explore and run NoSQLBench's pre-built workload scenarios" name=twitter:description><meta content="Built-in Scenarios | NoSQLBench Documentation" property=og:title><meta content="Built-in Scenarios | NoSQLBench Documentation" name=twitter:title><meta content=summary name=twitter:card><meta content="NoSQLBench Documentation" property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta property=og:updated_time><script src="https://docs.nosqlbench.io/js/theme_button.js?h=12a31e87fcbe7a55e953" defer integrity=sha384-UBxLGgFVZtEgNzOU3WqKoFT1oILftGjShFO4WIs1dO/jK7SNyz7BMYCYt5PffTxe></script><script src="https://docs.nosqlbench.io/js/email.js?h=ee3dd742e11c5014fdef" defer integrity=sha384-y0LUfjslyVLYZvCOyhELpvKivlXAq27Vnbed54glXoe/pZSYS/Pfqghp/sQt1xcV></script><script src="https://docs.nosqlbench.io/js/codecopy.js?h=0a54f99e682443925d3a" defer integrity=sha384-qssVvPpQgISh4PFkSBGTgXEMzuFO8Hat5m1MsdkpannoByWSTpLfBe4iEVl3+RiP></script><script src="https://docs.nosqlbench.io/js/elasticlunr.min.js?h=4f648b9e42abdef9c436" defer integrity=sha384-Q8viz7rndi8MSNDtItDgVWNSrCumjepopRMlz2nElkWPRXDQAcfiZGJbrCJVXdtw></script><script src="https://docs.nosqlbench.io/search_index.en.js?h=e2df0fd710d0c807a7aa" defer integrity=sha384-nyOftseEtxo2Pc23RFR1hxsCZHtUr0xOCP7JVJ8oGIs+cnDq6GZkzCq2hWZ2cJIh></script><script src="https://docs.nosqlbench.io/js/searchjava.js?h=36b818b07e8b2b318967" defer integrity=sha384-i6K7Uy98ZLnOwn6no8sDUTeBitDmiLHOKxkcJYbjgu6vQ3hdyMQPzmeuX04BRs8J></script><noscript><link href=https://docs.nosqlbench.io/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a title="NoSQLBench Documentation" href=https://docs.nosqlbench.io></a></big></div><div><div><ul><li><a href=https://docs.nosqlbench.io/tutorials/> Tutorials </a><li><a href=https://docs.nosqlbench.io/guides/> Guides </a><li><a href=https://docs.nosqlbench.io/reference/> Reference </a><li><a href=https://docs.nosqlbench.io/explanations/> Explanations </a><li><a href=https://docs.nosqlbench.io/development/> Development </a><li><a href=https://github.com/nosqlbench/nosqlbench target=_blank> GitHub </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class="svgs svgm search" title=Search></button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav></header><main><article><h1><a href=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/>Built-in Scenarios</a></h1><h1 id=built-in-scenarios>Built-in Scenarios</h1><p>Learn how to discover and run NoSQLBench’s pre-built workload scenarios.<p><strong>Note:</strong> The commands in this section are examples showing how the command line works with nb5.<h2 id=run-a-scenario>Run a Scenario</h2><p>To run a simple built-in scenario:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5</span><span> cql-keyvalue host=&LTaddr> localdc=&LTlocaldcname>
</span></code></pre><p>For Astra, add credentials and secure connect bundle:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5</span><span> cql-keyvalue \
</span><span>  scb=&LTscb.zip> \
</span><span>  userfile=&LTfile-with-client-id> \
</span><span>  passfile=&LTfile-with-client-secret>
</span></code></pre><p><strong>Tip:</strong> Keep these connection options handy - you’ll use them in place of <code>...</code> throughout this guide.<h3 id=how-it-works>How It Works</h3><p>This example shows how to call a pre-built workload template by name. <code>cql-keyvalue</code> is hosted within the binary at <code>activities/cql-keyvalue.yaml</code>.<p>The scenario automatically:<ol><li>Initializes your schema<li>Loads background data for realistic testing<li>Runs a main activity against the data</ol><p>You provide endpoint and authentication details, which should <strong>not</strong> be in the workload template.<h2 id=discover-scenarios>Discover Scenarios</h2><h3 id=list-all-scenarios>List All Scenarios</h3><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5 --list-scenarios
</span></code></pre><p>This shows all named scenarios across all workload templates.<h3 id=list-workload-templates>List Workload Templates</h3><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5 --list-workloads
</span></code></pre><p>This shows workload template files that contain scenarios.<p><strong>Note:</strong> A single workload template can contain multiple named scenarios. The commands above scan bundled workloads and local files.<h3 id=include-examples>Include Examples</h3><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5 --list-workloads --include</span><span> examples
</span></code></pre><p>This shows many more workloads, including educational examples. <strong>Recommended</strong> for first-time users learning about bindings.<p><strong>Tip:</strong> For custom workload design, see the <a href=../../reference/workload-yaml/>Workload YAML Specification</a>.<h2 id=compose-scenarios>Compose Scenarios</h2><p>Run specific scenarios or scenario steps:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># Run a specific named scenario
</span><span style=color:#bf616a>./nb5</span><span> cql-keyvalue astra ...
</span><span>
</span><span style=color:#65737e># Run a specific step of a scenario
</span><span style=color:#bf616a>./nb5</span><span> cql-keyvalue astra.schema ...
</span><span>
</span><span style=color:#65737e># Run multiple specific steps
</span><span style=color:#bf616a>./nb5</span><span> cql-keyvalue astra.schema astra.rampup ...
</span></code></pre><ul><li>If you don’t specify steps, all steps run serially in definition order<li>If you don’t specify a scenario name, <code>default</code> is used</ul><h2 id=example-activities>Example Activities</h2><p>You can skip named scenarios and invoke activities directly. This section shows how to drill down to individual steps.<p><strong>Skip ahead?</strong> If you just want to use built-in scenarios, jump to <a href=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/03-example-results.md>Example Results</a>.<h3 id=create-a-schema>Create a Schema</h3><p>First, create a simple schema:<pre class=language-sql data-lang=sql style=color:#c0c5ce;background-color:#2b303b><code class=language-sql data-lang=sql><span>CREATE KEYSPACE baselines
</span><span>  </span><span style=color:#b48ead>WITH</span><span> replication = {'</span><span style=color:#a3be8c>class</span><span>': '</span><span style=color:#a3be8c>SimpleStrategy</span><span>', '</span><span style=color:#a3be8c>replication_factor</span><span>': '</span><span style=color:#a3be8c>1</span><span>'}
</span><span>  AND durable_writes = </span><span style=color:#d08770>true</span><span>;
</span><span>
</span><span style=color:#b48ead>CREATE TABLE </span><span>baselines.</span><span style=color:#8fa1b3>keyvalue</span><span> (
</span><span>    key </span><span style=color:#b48ead>text PRIMARY KEY</span><span>,
</span><span>    value </span><span style=color:#b48ead>text
</span><span>)
</span></code></pre><p>Run the schema creation activity:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5</span><span> run driver=cqld4 workload=cql-keyvalue tags=block:schema ...
</span></code></pre><p><strong>Command breakdown:</strong><ul><li><code>run</code> - Run an activity<li><code>driver=cqld4</code> - Use the CQL driver (DataStax Java Driver 4.x)<li><code>workload=cql-keyvalue</code> - Use the pre-built cql-keyvalue workload<li><code>tags=block:schema</code> - Run only ops tagged with <code>block:schema</code> (DDL portion)<li><code>...</code> - Your endpoint/authentication details from earlier</ul><p><strong>Verify:</strong> Check your keyspace in cqlsh:<pre class=language-cql data-lang=cql style=color:#c0c5ce;background-color:#2b303b><code class=language-cql data-lang=cql><span>DESCRIBE KEYSPACE baselines;
</span></code></pre><h3 id=load-some-data>Load Some Data</h3><p>Before running tests, load background data to make scenarios realistic.<p><strong>Preview with stdout driver:</strong><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5</span><span> run driver=stdout workload=cql-keyvalue
</span></code></pre><p>You should see 10 INSERT statements like:<pre class=language-sql data-lang=sql style=color:#c0c5ce;background-color:#2b303b><code class=language-sql data-lang=sql><span style=color:#b48ead>insert into </span><span style=color:#d08770>baselines</span><span>.</span><span style=color:#d08770>keyvalue</span><span> (key, value) </span><span style=color:#b48ead>values</span><span> (</span><span style=color:#d08770>0</span><span>,</span><span style=color:#d08770>382062539</span><span>);
</span><span style=color:#b48ead>insert into </span><span style=color:#d08770>baselines</span><span>.</span><span style=color:#d08770>keyvalue</span><span> (key, value) </span><span style=color:#b48ead>values</span><span> (</span><span style=color:#d08770>1</span><span>,</span><span style=color:#d08770>774912474</span><span>);
</span><span style=color:#b48ead>insert into </span><span style=color:#d08770>baselines</span><span>.</span><span style=color:#d08770>keyvalue</span><span> (key, value) </span><span style=color:#b48ead>values</span><span> (</span><span style=color:#d08770>2</span><span>,</span><span style=color:#d08770>949364593</span><span>);
</span><span>...
</span></code></pre><p><strong>Note:</strong> NoSQLBench deterministically generates data - values are the same from run to run.<p><strong>Load data into database:</strong><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5</span><span> run driver=cql workload=cql-keyvalue \
</span><span>  tags=block:rampup \
</span><span>  cycles=100k \
</span><span>  ... \
</span><span style=color:#bf616a>  --progress</span><span> console:1s
</span></code></pre><p><strong>New options:</strong><ul><li><code>tags=block:rampup</code> - Run the rampup block (INSERT statements only)<li><code>cycles=100k</code> - Run 100,000 operations (100,000 writes)</ul><p><strong>Tip:</strong> The <code>cycles</code> parameter is a range: <code>cycles=n</code> is short for <code>cycles=0..n</code>. So <code>cycles=5</code> means cycles 0,1,2,3,4 (not including 5). Pick an appropriately large number for realistic background data.<p><strong>Progress output:</strong><pre style=color:#c0c5ce;background-color:#2b303b><code><span>cql-keyvalue (remaining,active,completed)=(99377,50,623) 001%
</span><span>cql-keyvalue (remaining,active,completed)=(98219,50,1782) 002%
</span><span>cql-keyvalue (remaining,active,completed)=(97009,50,2991) 003%
</span><span>...
</span><span>cql-keyvalue (remaining,active,completed)=(0,0,100000) 100% (last report)
</span></code></pre><h3 id=run-the-main-activity>Run the Main Activity</h3><p>Now run a mixed read/write workload (50% read, 50% write by default):<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5</span><span> run driver=cql workload=cql-keyvalue \
</span><span>  tags='</span><span style=color:#a3be8c>block:main.*</span><span>' \
</span><span>  cycles=50k \
</span><span>  cyclerate=5000 \
</span><span>  threads=50 \
</span><span>  ... \
</span><span style=color:#bf616a>  --progress</span><span> console:1s
</span></code></pre><p><strong>New options:</strong><ul><li><code>tags=block:main.*</code> - Run the main block (read and write queries)<li><code>threads=50</code> - Use 50 concurrent threads (default is 1, insufficient for high throughput)<li><code>cyclerate=5000</code> - Limit to 5000 ops/sec (primary rate limiting mechanism)<li><code>cycles=50k</code> - Run 50,000 total operations</ul><p><strong>Output:</strong><pre style=color:#c0c5ce;background-color:#2b303b><code><span>Configured scenario log at logs/scenario_20230113_135200_029.log
</span><span>cql-keyvalue (remaining,active,completed)=(47168,1,2832) 006%
</span><span>cql-keyvalue (remaining,active,completed)=(42059,2,7941) 016%
</span><span>cql-keyvalue (remaining,active,completed)=(37107,2,12895) 026%
</span><span>...
</span><span>cql-keyvalue (remaining,active,completed)=(0,0,50000) 100% (last report)
</span></code></pre><h2 id=now-what>Now What?</h2><p>NoSQLBench records metrics from your run in a log file (shown in output):<pre style=color:#c0c5ce;background-color:#2b303b><code><span>Configured scenario log at logs/scenario_YYYYMMDD_HHMMSS_XXX.log
</span></code></pre><p>Next, learn how to interpret these results:<ul><li><strong><a href=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/03-example-results.md>Example Results</a></strong> - Understand NoSQLBench output<li><strong><a href=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/04-reading-metrics.md>Reading Metrics</a></strong> - Analyze performance metrics</ul><h2 id=key-concepts>Key Concepts</h2><ul><li><strong>Workload Template</strong> - YAML file defining scenarios, bindings, and operations<li><strong>Scenario</strong> - Named sequence of steps (schema, rampup, main, etc.)<li><strong>Activity</strong> - Single execution step within a scenario<li><strong>Tags</strong> - Select which operations to run (e.g., <code>tags=block:schema</code>)<li><strong>Cycles</strong> - Range of values determining how many operations to execute<li><strong>Threads</strong> - Concurrency level for the workload<li><strong>Cyclerate</strong> - Operations per second limit</ul><h2 id=related-documentation>Related Documentation</h2><ul><li><strong><a href=../../reference/workload-yaml/>Workload YAML Specification</a></strong> - Complete YAML format reference<li><strong><a href=../../reference/drivers/cqld4.md>CQL Driver</a></strong> - CQL driver details<li><strong><a href=../../reference/cli/>CLI Reference</a></strong> - All command-line options</ul><nav><div><a href=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/>‹ Set Up Test Target</a></div><div><a href=https://docs.nosqlbench.io/tutorials/getting-started/03-example-results/> Understanding Output ›</a></div></nav></article></main><footer><div class=c><nav class=tpad><div></div></nav><p>© <span id=year>2025</span> NoSQLBench Documentation<p>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer><span class=topout> <span class=topleft> </span><a title="Back to Top" class=top href=#><i class="svgs svgh angu"></i></a> </span>