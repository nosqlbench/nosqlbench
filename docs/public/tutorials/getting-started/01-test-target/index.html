<!doctype html><html lang=en><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=https://docs.nosqlbench.io/js/theme.min.js></script><link href="https://docs.nosqlbench.io/abridge.css?h=17d1d14ae374495df55a" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://docs.nosqlbench.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><link href=https://docs.nosqlbench.io/favicon.svg rel=icon type=image/svg+xml><link title="NoSQLBench Documentation Atom Feed" href=https://docs.nosqlbench.io/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Set Up Test Target | NoSQLBench Documentation</title><meta content="NoSQLBench Team" name=author><meta content="NoSQLBench Documentation" name=copyright><meta content="Start a database instance for testing with NoSQLBench" name=description><link href=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/ rel=canonical><meta content=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/ property=og:url><meta content=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/ name=twitter:url><meta content="Start a database instance for testing with NoSQLBench" property=og:description><meta content="Start a database instance for testing with NoSQLBench" name=twitter:description><meta content="Set Up Test Target | NoSQLBench Documentation" property=og:title><meta content="Set Up Test Target | NoSQLBench Documentation" name=twitter:title><meta content=summary name=twitter:card><meta content="NoSQLBench Documentation" property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta property=og:updated_time><script src="https://docs.nosqlbench.io/js/theme_button.js?h=12a31e87fcbe7a55e953" defer integrity=sha384-UBxLGgFVZtEgNzOU3WqKoFT1oILftGjShFO4WIs1dO/jK7SNyz7BMYCYt5PffTxe></script><script src="https://docs.nosqlbench.io/js/email.js?h=ee3dd742e11c5014fdef" defer integrity=sha384-y0LUfjslyVLYZvCOyhELpvKivlXAq27Vnbed54glXoe/pZSYS/Pfqghp/sQt1xcV></script><script src="https://docs.nosqlbench.io/js/codecopy.js?h=0a54f99e682443925d3a" defer integrity=sha384-qssVvPpQgISh4PFkSBGTgXEMzuFO8Hat5m1MsdkpannoByWSTpLfBe4iEVl3+RiP></script><script src="https://docs.nosqlbench.io/js/elasticlunr.min.js?h=4f648b9e42abdef9c436" defer integrity=sha384-Q8viz7rndi8MSNDtItDgVWNSrCumjepopRMlz2nElkWPRXDQAcfiZGJbrCJVXdtw></script><script src="https://docs.nosqlbench.io/search_index.en.js?h=e2df0fd710d0c807a7aa" defer integrity=sha384-nyOftseEtxo2Pc23RFR1hxsCZHtUr0xOCP7JVJ8oGIs+cnDq6GZkzCq2hWZ2cJIh></script><script src="https://docs.nosqlbench.io/js/searchjava.js?h=36b818b07e8b2b318967" defer integrity=sha384-i6K7Uy98ZLnOwn6no8sDUTeBitDmiLHOKxkcJYbjgu6vQ3hdyMQPzmeuX04BRs8J></script><noscript><link href=https://docs.nosqlbench.io/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a title="NoSQLBench Documentation" href=https://docs.nosqlbench.io></a></big></div><div><div><ul><li><a href=https://docs.nosqlbench.io/tutorials/> Tutorials </a><li><a href=https://docs.nosqlbench.io/guides/> Guides </a><li><a href=https://docs.nosqlbench.io/reference/> Reference </a><li><a href=https://docs.nosqlbench.io/explanations/> Explanations </a><li><a href=https://docs.nosqlbench.io/development/> Development </a><li><a href=https://github.com/nosqlbench/nosqlbench target=_blank> GitHub </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class="svgs svgm search" title=Search></button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav></header><main><article><h1><a href=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/>Set Up Test Target</a></h1><h1 id=set-up-a-test-target>Set Up a Test Target</h1><p>You need a target system to run your test against. If you already have one, you can skip this section.<p>This guide assumes you’re testing against a CQL-based system (Cassandra/DSE/Astra). For other databases, see the relevant <a href=../../reference/drivers/>driver documentation</a>.<h2 id=option-1-run-dse-in-docker>Option 1: Run DSE in Docker</h2><p>Start DataStax Enterprise with a single command:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>docker</span><span> run</span><span style=color:#bf616a> -e</span><span> DS_LICENSE=accept</span><span style=color:#bf616a> --name</span><span> my-dse</span><span style=color:#bf616a> -p</span><span> 9042:9042</span><span style=color:#bf616a> -d</span><span> datastax/dse-server:6.8.17-ubi7
</span></code></pre><p>This starts DSE 6.8.17 and exposes the CQL port (9042) on localhost.<p><strong>Monitoring:</strong> For system-level metrics, you can use:<ul><li><a href=https://docs.datastax.com/en/monitoring/doc/monitoring/metricsCollector/mcExportMetricsDocker.html rel=noopener target=_blank>DSE Metrics Collector</a><li>Prometheus integration for real-time metrics</ul><h2 id=option-2-run-astra-cluster-cloud>Option 2: Run Astra Cluster (Cloud)</h2><p>DataStax Astra DB provides a serverless Cassandra cluster for functional testing.<h3 id=setup-steps>Setup Steps</h3><ol><li><p><strong>Create Astra Database</strong></p> <ul><li>Visit <a href=https://astra.datastax.com/ rel=noopener target=_blank>Astra DB</a><li>Create a new database<li><a href=https://github.com/datastaxdevs/workshop-intro-to-cassandra#2-create-a-table rel=noopener target=_blank>Follow this tutorial</a> for detailed steps</ul><li><p><strong>Create Keyspace</strong></p> <ul><li>Add a keyspace named <code>baselines</code> (Astra doesn’t support keyspace creation via CQL)<li>Use the Astra UI to create the keyspace:</ul> <p><img alt="Creating keyspace in Astra" src=/images/keyspace.png></p><li><p><strong>Download Credentials</strong></p> <ul><li><strong>Secure Connect Bundle</strong>: Download from the Connect tab<li><strong>Token</strong>: Generate a Read/Write token in Organization Settings<li>Save Client ID and Client Secret</ul> <p><img alt="Generating token in Astra" src=/images/token.png></p></ol><h3 id=configure-nosqlbench-for-astra>Configure NoSQLBench for Astra</h3><p>Use this connection pattern:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5 </span><span>&LTworkload> &LTscenario> \
</span><span>  driver=cqld4 \
</span><span>  scb=&LTpath-to-secure-connect-bundle.zip> \
</span><span>  userfile=&LTpath-to-userfile> \
</span><span>  passfile=&LTpath-to-passfile>
</span></code></pre><p><strong>Recommended:</strong> Organize credentials in a directory:<pre style=color:#c0c5ce;background-color:#2b303b><code><span>creds/
</span><span>├── scb-mydb.zip
</span><span>├── userfile
</span><span>└── passfile
</span></code></pre><p>Then reference them simply:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5 </span><span>&LTworkload> &LTscenario> \
</span><span>  driver=cqld4 \
</span><span>  scb=creds/scb-mydb.zip \
</span><span>  userfile=creds/userfile \
</span><span>  passfile=creds/passfile
</span></code></pre><p>This makes managing credentials for multiple endpoints straightforward.<h2 id=option-3-run-apache-cassandra-in-docker>Option 3: Run Apache Cassandra in Docker</h2><p>Start Apache Cassandra 4.x:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>docker</span><span> run</span><span style=color:#bf616a> --name</span><span> cass4</span><span style=color:#bf616a> -p</span><span> 9042:9042</span><span style=color:#bf616a> -d</span><span> cassandra:latest
</span></code></pre><p><strong>Verify Cassandra is ready:</strong><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>docker</span><span> container logs cass4
</span></code></pre><p>Wait for the log message indicating Cassandra is accepting connections.<p><strong>More info:</strong> <a href=https://hub.docker.com/_/cassandra rel=noopener target=_blank>Cassandra on Docker Hub</a><h2 id=verify-connection>Verify Connection</h2><p>Test your connection with a simple NoSQLBench command:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># For local Cassandra/DSE
</span><span style=color:#bf616a>./nb5</span><span> activities/baselines/cql-iot hosts=localhost
</span><span>
</span><span style=color:#65737e># For Astra
</span><span style=color:#bf616a>./nb5</span><span> activities/baselines/cql-iot \
</span><span>  driver=cqld4 \
</span><span>  scb=creds/scb.zip \
</span><span>  userfile=creds/userfile \
</span><span>  passfile=creds/passfile
</span></code></pre><p>If the workload runs without errors, your connection is working.<h2 id=next-steps>Next Steps</h2><ul><li><strong><a href=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/02-scenarios.md>Built-in Scenarios</a></strong> - Explore pre-built workloads<li><strong><a href=https://docs.nosqlbench.io/tutorials/getting-started/01-test-target/03-example-results.md>Example Results</a></strong> - See what NoSQLBench outputs<li><strong><a href=../workloads/cql-quickstart.md>CQL Quickstart</a></strong> - Run a complete CQL tutorial</ul><h2 id=related-documentation>Related Documentation</h2><ul><li><strong><a href=../../reference/drivers/cqld4.md>CQL Driver Reference</a></strong> - Detailed cqld4 driver configuration<li><strong><a href=../../reference/drivers/>Driver Discovery</a></strong> - All available drivers</ul><nav><div><a href=https://docs.nosqlbench.io/tutorials/getting-started/00-installation/>‹ Installation</a></div><div><a href=https://docs.nosqlbench.io/tutorials/getting-started/02-scenarios/> Built-in Scenarios ›</a></div></nav></article></main><footer><div class=c><nav class=tpad><div></div></nav><p>© <span id=year>2025</span> NoSQLBench Documentation<p>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer>