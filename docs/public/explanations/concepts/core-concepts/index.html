<!doctype html><html lang=en><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=https://docs.nosqlbench.io/js/theme.min.js></script><link href="https://docs.nosqlbench.io/abridge.css?h=17d1d14ae374495df55a" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=https://docs.nosqlbench.io name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><link href=https://docs.nosqlbench.io/favicon.svg rel=icon type=image/svg+xml><link title="NoSQLBench Documentation Atom Feed" href=https://docs.nosqlbench.io/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Core Concepts | NoSQLBench Documentation</title><meta content="NoSQLBench Team" name=author><meta content="NoSQLBench Documentation" name=copyright><meta content="Fundamental concepts underlying NoSQLBench design and execution model" name=description><link href=https://docs.nosqlbench.io/explanations/concepts/core-concepts/ rel=canonical><meta content=https://docs.nosqlbench.io/explanations/concepts/core-concepts/ property=og:url><meta content=https://docs.nosqlbench.io/explanations/concepts/core-concepts/ name=twitter:url><meta content="Fundamental concepts underlying NoSQLBench design and execution model" property=og:description><meta content="Fundamental concepts underlying NoSQLBench design and execution model" name=twitter:description><meta content="Core Concepts | NoSQLBench Documentation" property=og:title><meta content="Core Concepts | NoSQLBench Documentation" name=twitter:title><meta content=summary name=twitter:card><meta content="NoSQLBench Documentation" property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta property=og:updated_time><script src="https://docs.nosqlbench.io/js/theme_button.js?h=12a31e87fcbe7a55e953" defer integrity=sha384-UBxLGgFVZtEgNzOU3WqKoFT1oILftGjShFO4WIs1dO/jK7SNyz7BMYCYt5PffTxe></script><script src="https://docs.nosqlbench.io/js/email.js?h=ee3dd742e11c5014fdef" defer integrity=sha384-y0LUfjslyVLYZvCOyhELpvKivlXAq27Vnbed54glXoe/pZSYS/Pfqghp/sQt1xcV></script><script src="https://docs.nosqlbench.io/js/codecopy.js?h=0a54f99e682443925d3a" defer integrity=sha384-qssVvPpQgISh4PFkSBGTgXEMzuFO8Hat5m1MsdkpannoByWSTpLfBe4iEVl3+RiP></script><script src="https://docs.nosqlbench.io/js/elasticlunr.min.js?h=4f648b9e42abdef9c436" defer integrity=sha384-Q8viz7rndi8MSNDtItDgVWNSrCumjepopRMlz2nElkWPRXDQAcfiZGJbrCJVXdtw></script><script src="https://docs.nosqlbench.io/search_index.en.js?h=e2df0fd710d0c807a7aa" defer integrity=sha384-nyOftseEtxo2Pc23RFR1hxsCZHtUr0xOCP7JVJ8oGIs+cnDq6GZkzCq2hWZ2cJIh></script><script src="https://docs.nosqlbench.io/js/searchjava.js?h=36b818b07e8b2b318967" defer integrity=sha384-i6K7Uy98ZLnOwn6no8sDUTeBitDmiLHOKxkcJYbjgu6vQ3hdyMQPzmeuX04BRs8J></script><noscript><link href=https://docs.nosqlbench.io/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a title="NoSQLBench Documentation" href=https://docs.nosqlbench.io></a></big></div><div><div><ul><li><a href=https://docs.nosqlbench.io/tutorials/> Tutorials </a><li><a href=https://docs.nosqlbench.io/guides/> Guides </a><li><a href=https://docs.nosqlbench.io/reference/> Reference </a><li><a href=https://docs.nosqlbench.io/explanations/> Explanations </a><li><a href=https://docs.nosqlbench.io/development/> Development </a><li><a href=https://github.com/nosqlbench/nosqlbench target=_blank> GitHub </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class="svgs svgm search" title=Search></button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav></header><main><article><h1><a href=https://docs.nosqlbench.io/explanations/concepts/core-concepts/>Core Concepts</a></h1><h1 id=core-concepts>Core Concepts</h1><p>NoSQLBench is built on core concepts that have been scrutinized, replaced, refined, and hardened through several years of use by a diverse set of users.<h2 id=why-concepts-matter>Why Concepts Matter</h2><p>This level of refinement is important when trying to express common patterns in what is often a highly fragmented practice. Testing is hard. Scale testing is hard. Distributed testing is hard. Combined, the challenge of executing realistic tests is often quite daunting to all but seasoned test engineers.<p>Existing tools have only skirmished with this problem enough to make dents, but none has tackled the fundamental lack of conceptual building blocks.<p><strong>This has to change.</strong> We need a set of testing concepts that can span across workloads and system types, with machinery to put these concepts to use. Finding these building blocks is often one of the most difficult challenges in systems design. Once you find and validate a useful set of concepts, everything else gets easier.<p>We believe that NoSQLBench’s success has been strongly tied to these core concepts.<h2 id=the-cycle>The Cycle</h2><p><strong>Cycles</strong> in NoSQLBench are whole numbers on a number line. Each operation in a NoSQLBench scenario is derived from a single cycle - a <code>long</code> value representing a seed.<p>The cycle determines:<ul><li>Which operation is selected for execution<li>What data will be generated and attached to it</ul><h3 id=cycle-ranges>Cycle Ranges</h3><p>Cycles are specified as a <strong>closed-open</strong> <code>[min,max)</code> interval (known as <em>slices</em> in some languages):<ul><li>The min value <strong>is included</strong> in the range<li>The max value <strong>is not included</strong></ul><p><strong>Example:</strong> <code>cycles=5</code> means cycles 0,1,2,3,4 (not 5)<h3 id=benefits>Benefits</h3><p><strong>Stackable ranges:</strong> You can stack slices using common numeric reference points without overlaps or gaps.<p><strong>Determinism:</strong> You have exact awareness of what data is in your dataset, even incrementally.<p><strong>Coordinate system:</strong> Think of a cycle as a single-valued coordinate system for data that lives adjacent to that number on the number line. Virtual dataset functions convert coordinates into data.<p><strong>Repeatability:</strong> Using the same cycle range specifies the exact same operations. Tests are completely deterministic (pseudo-random) and repeatable, even when they appear random or are shaped by density curves.<h2 id=the-activity>The Activity</h2><p>An <strong>activity</strong> is a multithreaded flywheel of statements in some sequence and ratio.<ul><li>Each activity runs over the numbers in a cycle range<li>Specified as a series of op templates in some ratio and order<li>Executes an efficient loop over specific operations with its own thread pool<li>Multiple activities can run concurrently within a scenario</ul><h2 id=the-op-template>The Op Template</h2><p>Each possible operation in an activity is provided by the user in a YAML or data structure driven template.<p>Op templates are used to create efficient <strong>op dispensers</strong> in the runtime according to the mapping rules for a given driver.<p><strong>Template → Dispenser → Operation</strong><h2 id=the-driver-adapter>The Driver Adapter</h2><p>A <strong>driver adapter</strong> is a high-level driver for a protocol that interfaces a native driver to the runtime machinery of NoSQLBench.<p>Think of it as a <strong>statement-aware cartridge</strong> that knows how to:<ul><li>Take a basic op template<li>Turn it into an executable operation<li>Execute it for a given cycle using the native driver</ul><p><strong>Examples:</strong><ul><li><code>cqld4</code> - CQL driver adapter using DataStax Java Driver 4.x<li><code>http</code> - HTTP/REST driver adapter<li><code>kafka</code> - Kafka producer/consumer adapter</ul><h2 id=the-scenario>The Scenario</h2><p>The <strong>scenario</strong> is a runtime session that holds activities while they run.<p>A NoSQLBench scenario is responsible for:<ul><li>Aggregating global runtime settings<li>Managing metrics reporting channels<li>Coordinating log files<li>Controlling activity lifecycle</ul><p>All activities run within a scenario, under the control of the scenario script.<h2 id=the-scenario-script>The Scenario Script</h2><p>Each scenario is governed by a central <strong>scenario script</strong>.<h3 id=characteristics>Characteristics</h3><ul><li>Runs in a single-threaded manner, asynchronous from the activities<li>Maintains control over all activities<li>Automatically created if not provided by the user<li>Available for advanced testing requirements</ul><h3 id=completion>Completion</h3><p>The scenario completes when:<ol><li>The script exits <strong>AND</strong><li>All activities are complete</ol><h3 id=convenience-forms>Convenience Forms</h3><p>Shortcut forms of scripting are provided on the command line to address common variations without writing explicit scripts.<p><strong>Example:</strong><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>./nb5 </span><span>&LTworkload> &LTscenario> ...
</span></code></pre><p>This automatically generates a scenario script that runs the named scenario’s steps in order.<h2 id=putting-it-together>Putting It Together</h2><p><strong>Conceptual Flow:</strong><pre style=color:#c0c5ce;background-color:#2b303b><code><span>Scenario (Session)
</span><span>  ├─ Scenario Script (Control)
</span><span>  ├─ Activity 1 (Thread Pool)
</span><span>  │   ├─ Driver Adapter (e.g., cqld4)
</span><span>  │   ├─ Op Templates (YAML)
</span><span>  │   └─ Cycle Range (e.g., 0..100000)
</span><span>  │       └─ Bindings (Data Generation)
</span><span>  └─ Activity 2 (Thread Pool)
</span><span>      └─ ...
</span></code></pre><h3 id=execution-model>Execution Model</h3><ol><li><strong>Scenario script</strong> starts and creates activities<li>Each <strong>activity</strong> spins up its thread pool<li>Threads loop over <strong>cycle ranges</strong><li>For each cycle, <strong>driver adapter</strong> uses <strong>op templates</strong> to create operations<li><strong>Bindings</strong> generate data from cycle numbers<li>Operations execute against target system<li><strong>Metrics</strong> are collected and reported<li>Scenario completes when script and all activities finish</ol><h2 id=why-this-design>Why This Design?</h2><h3 id=determinism>Determinism</h3><p>Using cycles as seeds means:<ul><li>Same cycle range = same exact operations<li>Tests are reproducible<li>Data generation is predictable<li>Debugging is easier</ul><h3 id=flexibility>Flexibility</h3><ul><li>Mix and match drivers<li>Run multiple activities concurrently<li>Scale from single-machine to distributed<li>Compose complex scenarios from simple building blocks</ul><h3 id=performance>Performance</h3><ul><li>Efficient multi-threaded execution<li>Lock-free cycle distribution<li>Native driver integration<li>Minimal overhead</ul><h2 id=next-steps>Next Steps</h2><p>Now that you understand the concepts:<ul><li><strong><a href=https://docs.nosqlbench.io/explanations/concepts/core-concepts/activities.md>Activities</a></strong> - Deep dive into activity lifecycle and configuration<li><strong><a href=https://docs.nosqlbench.io/explanations/concepts/core-concepts/scenarios.md>Scenarios</a></strong> - Scenario composition and scripting<li><strong><a href=https://docs.nosqlbench.io/explanations/concepts/core-concepts/bindings.md>Bindings</a></strong> - Data generation system explained<li><strong><a href=../../reference/workload-yaml/>Workload Templates</a></strong> - YAML specification</ul><h2 id=related-documentation>Related Documentation</h2><ul><li><strong><a href=../../tutorials/getting-started/>Getting Started</a></strong> - Apply these concepts practically<li><strong><a href=../../guides/workload-design/>Workload Design Guides</a></strong> - Best practices<li><strong><a href=../architecture/>Architecture Overview</a></strong> - System design details</ul></article></main><footer><div class=c><nav class=tpad><div></div></nav><p>© <span id=year>2025</span> NoSQLBench Documentation<p>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer><span class=topout> <span class=topleft> </span><a title="Back to Top" class=top href=#><i class="svgs svgh angu"></i></a> </span>